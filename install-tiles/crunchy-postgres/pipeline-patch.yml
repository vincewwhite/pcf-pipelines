- op: add
  path: /jobs/name=config-pivnet-product/plan/-
  value:
    task: config-tile
    config:
      platform: linux
      image_resource:
        type: docker-image
        source:
          repository: {{docker_repository}}
          username: {{docker_username}}
          password: {{docker_password}}
          insecure_registries:
          - {{docker_ca_certs_domain}}
          tag: {{docker_tag}}
          ca_certs:
          - domain: {{docker_ca_certs_domain}}
            cert: {{docker_ca_certs_cert}}
      run:
        path: pcf-pipelines/install-tiles/tasks/config-crunchypostgres/task.sh

      inputs:
        - name: pcf-pipelines
    params:
      PRODUCT_NAME: {{product_name}}
      OPSMAN_DOMAIN_OR_IP_ADDRESS: {{opsman_domain_or_ip_address}}
      OPSMAN_USERNAME: {{opsman_admin_username}}
      OPSMAN_PASSWORD: {{opsman_admin_password}}
      SINGLETON_JOBS_AZ: {{singleton_jobs_az}}
      OTHER_AZS: {{other_azs}}
      NETWORK_NAME: {{network_name}}
      SERVICES_NETWORK_NAME: {{services_network_name}}
      PROPERTIES_AZ_MULTI_SELECT: {{properties_az_multi_seclect}}
      PROPERTIES_CONSUL_SERVER_DISK_TYPE: {{properties_consul_server_disk_type}}
      PROPERTIES_CONSUL_SERVER_VM_TYPE: {{properties_consul_server_vm_type}}
      PROPERTIES_EXTRA_LARGE_DISK_TYPE: {{properties_extra_large_disk_type}}
      PROPERTIES_EXTRA_LARGE_POSTGRESQL_INSTANCE_COUNT: {{properties_extra_large_postgresql_instance_count}}
      PROPERTIES_EXTRA_LARGE_POSTGRESQL_SERVICE_QUOTA: {{properties_extra_large_postgresql_service_quota}}
      PROPERTIES_EXTRA_LARGE_VM_TYPE: {{properties_extra_large_vm_type}}
      PROPERTIES_LARGE_DISK_TYPE: {{properties_large_disk_type}}
      PROPERTIES_LARGE_POSTGRESQL_INSTANCE_COUNT: {{properties_large_postgresql_instance_count}}
      PROPERTIES_LARGE_POSTGRESQL_SERVICE_QUOTA: {{properties_large_postgresql_service_quota}}
      PROPERTIES_LARGE_VM_TYPE: {{properties_large_vm_type}}
      PROPERTIES_MEDIUM_DISK_TYPE: {{properties_medium_disk_type}}
      PROPERTIES_MEDIUM_POSTGRESQL_INSTANCE_COUNT: {{properties_medium_postgresql_instance_count}}
      PROPERTIES_MEDIUM_POSTGRESQL_SERVICE_QUOTA: {{properties_medium_postgresql_service_quota}}
      PROPERTIES_MEDIUM_VM_TYPE: {{properties_medium_vm_type}}
      PROPERTIES_POSTGRESQL_HAPROXY_DISK_TYPE: {{properties_postgresql_haproxy_disk_type}}
      PROPERTIES_POSTGRESQL_HAPROXY_VM_TYPE: {{properties_postgresql_haproxy_vm_type}}
      PROPERTIES_SMALL_DISK_TYPE: {{properties_small_disk_type}}
      PROPERTIES_SMALL_POSTGRESQL_INSTANCE_COUNT: {{properties_small_postgresql_instance_count}}
      PROPERTIES_SMALL_POSTGRESQL_SERVICE_QUOTA: {{properties_small_postgresql_service_quota}}
      PROPERTIES_SMALL_VM_TYPE: {{properties_small_vm_type}}
      PROPERTIES_SMOKE_TESTS_DISK_TYPE: {{properties_smoke_tests_disk_type}}
      PROPERTIES_SMOKE_TESTS_VM_TYPE: {{properties_smoke_tests_vm_type}}
      BROKER_INSTANCES: {{broker_instances}}
      REGISTER_ON_DEMAND_SERVICE_BROKER_INSTANCES: {{register_on_demand_service_broker_instances}}
      DELETE_ALL_SERVICE_INSTANCES_AND_DEREGISTER_BROKER_INSTANCES: {{delete_all_service_instances}}
      UPGRADE_ALL_SERVICE_INSTANCES_INSTANCES: {{upgrade_all_service_instances}}
      ACCEPTANCE_TESTS_INSTANCES: {{acceptance_test_instances}}

